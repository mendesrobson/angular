<div class="row">
  <div class="card col-md-12 padd-left0 padd-right0">
    <div class="card">
      <div class="card-block">
        <form class="form-horizontal" novalidate (ngSubmit)="adicionarMascara()" [formGroup]="mascaraForm">
          <div class="form-body col-12">
            <div class="row p-t-20">


              <div class="col-md-4">
                <div class="form-group">
                  <label>Grupo</label>
                  <select class="custom-select col-md-12" id="grupoEmpresaId" name="grupoEmpresaId" formControlName="grupoEmpresaId">
                    <option *ngFor="let grupoEmpresa of grupoEmpresas" [ngValue]="grupoEmpresa.id">{{ grupoEmpresa.pessoa.nome }}</option>
                  </select>
                  <span class="text-danger" *ngIf="displayMessage.grupoEmpresaId">
                    <p [innerHTML]="displayMessage.grupoEmpresaId"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label>Empresa</label>
                  <select class="custom-select col-md-12" id="empresaId" name="empresaId" formControlName="empresaId">
                    <option *ngFor="let empresa of empresas" [ngValue]="empresa.id">{{ empresa.pessoa.nome }}</option>
                  </select>
                  <span class="text-danger" *ngIf="displayMessage.empresaId">
                    <p [innerHTML]="displayMessage.empresaId"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label>Tarefa</label>
                  <select class="custom-select col-md-12" id="tarefaId" name="tarefaId" formControlName="tarefaId">
                    <option *ngFor="let tarefa of tarefas" [ngValue]="tarefa.id">{{ tarefa.descricao }}</option>
                  </select>
                  <span class="text-danger" *ngIf="displayMessage.tarefaId">
                    <p [innerHTML]="displayMessage.tarefaId"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-group" [ngClass]="{'has-error': displayMessage.codigo }">
                  <label class="control-label" for="codigo">Código</label>
                  <input type="text" autocomplete="off" id="codigo" name="codigo" class="form-control text-input" formControlName="codigo" />
                  <span class="text-danger" *ngIf="displayMessage.codigo">
                    <p [innerHTML]="displayMessage.codigo"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-group" [ngClass]="{'has-error': displayMessage.sigla }">
                  <label class="control-label" for="sigla">Sigla</label>
                  <input type="text" autocomplete="off" id="sigla" name="sigla" class="form-control text-input" formControlName="sigla" />
                  <span class="text-danger" *ngIf="displayMessage.sigla">
                    <p [innerHTML]="displayMessage.sigla"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group" [ngClass]="{'has-error': displayMessage.descricao }">
                  <label class="control-label" for="descricao">Descrição</label>
                  <input type="text" autocomplete="off" id="descricao" name="descricao" class="form-control text-input" formControlName="descricao" />
                  <span class="text-danger" *ngIf="displayMessage.descricao">
                    <p [innerHTML]="displayMessage.descricao"></p>
                  </span>
                </div>
              </div>



              <div class="col-md-3">
                <div class="form-group" [ngClass]="{'has-error': displayMessage.prefixo }">
                  <label class="control-label" for="prefixo">Prefixo</label>
                  <input type="text" autocomplete="off" id="prefixo" name="prefixo" class="form-control text-input" formControlName="prefixo" (blur)="gerarMascaraAlt()" />
                  <span class="text-danger" *ngIf="displayMessage.prefixo">
                    <p [innerHTML]="displayMessage.prefixo"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-group" [ngClass]="{'has-error': displayMessage.sufixo }">
                  <label class="control-label" for="sufixo">Sufixo</label>
                  <input type="text" autocomplete="off" id="sufixo" name="sufixo" class="form-control text-input" formControlName="sufixo" (blur)="gerarMascaraAlt()" />
                  <span class="text-danger" *ngIf="displayMessage.sufixo">
                    <p [innerHTML]="displayMessage.sufixo"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-group">
                  <label>Separador de Nível</label>
                  <select class="custom-select col-md-12" name="separadorNiveis" formControlName="separadorNiveis" (blur)="gerarMascaraAlt()">
                    <option *ngFor="let row of separadorNivel" [ngValue]="row.id">{{row.valor}}</option>
                  </select>
                  <span class="text-danger" *ngIf="displayMessage.separadorNiveis">
                    <p [innerHTML]="displayMessage.separadorNiveis"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-group" [ngClass]="{'has-error': displayMessage.quantidadeNiveis }">
                  <label class="control-label" for="quantidadeNiveis">Quantidade de Níveis</label>
                  <input type="number" autocomplete="off" min="0" id="quantidadeNiveis" name="quantidadeNiveis" class="form-control text-input" onlyNumber="true"
                    formControlName="quantidadeNiveis" (blur)="getQuantidadeNiveis($event.target.value)" />
                  <span class="text-danger" *ngIf="displayMessage.quantidadeNiveis">
                    <p [innerHTML]="displayMessage.quantidadeNiveis"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-group">
                  <label>Calcular Numeração</label>
                  <select class="custom-select col-md-12" name="siglaAdicionaGrava" formControlName="siglaAdicionaGrava">
                    <option *ngFor="let row of gravaOrAdiciona" [ngValue]="row.id">{{row.valor}}</option>
                  </select>
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-check" style="margin-top: 30px;">
                  <label class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" formControlName="sequencial" checkBoxSet>
                    <span class="custom-control-indicator"></span>
                    <span class="custom-control-description">Sequêncial</span>
                  </label>
                </div>
              </div>

              <div class="col-md-6"></div>

              <div class="col-md-6">
                <div class="form-group" [ngClass]="{'has-error': displayMessage.mascaraFormatada }">
                  <label class="control-label" for="mascaraFormatada">Máscara</label>
                  <input type="text" autocomplete="off" readonly id="mascaraFormatada" name="mascaraFormatada" class="form-control text-input" formControlName="mascaraFormatada"
                  />
                  <span class="text-danger" *ngIf="displayMessage.mascaraFormatada">
                    <p [innerHTML]="displayMessage.mascaraFormatada"></p>
                  </span>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group" [ngClass]="{'has-error': displayMessage.mascaraExpression }">
                  <label class="control-label" for="mascaraExpression">Máscara Expression</label>
                  <input type="text" autocomplete="off" readonly id="mascaraExpression" name="mascaraExpression" class="form-control text-input" formControlName="mascaraExpression"
                  />
                  <span class="text-danger" *ngIf="displayMessage.mascaraExpression">
                    <p [innerHTML]="displayMessage.mascaraExpression"></p>
                  </span>
                </div>
              </div>

              <div class="col-12">
                <h3 class="box-title m-t-0">Níveis</h3>
                <hr>

                <div class="table-responsive m-t-40">
                  <table id="example23" class="display nowrap table table-hover table-striped table-bordered color-table info-table" cellspacing="0">
                    <thead>
                      <tr>
                        <th>Quantidade de Níveis</th>
                        <th>Quantidade</th>
                        <th>Sequêncial</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let row of mascaraNivel ; let i = index" [attr.data-index]="i" style="cursor:pointer">
                        <td>
                          Nível {{ i + 1 }}
                        </td>
                        <td>
                          <input type="number" autocomplete="off" min="0" onlyNumber="true" id="{{ i + 1 }}" name="row.quantidadeNivel" (ngModelChange)="getMask($event)" (blur)="getMask($event)" (blur)="getMaskExp($event)" size="2"
                            class="form-control text-input" />
                        </td>
                        <td>
                          <input type="number" autocomplete="off" min="0" onlyNumber="true" id="{{ i + 1 }}" name="row.sequencia" (blur)="getSequencia($event)" size="2" class="form-control text-input" />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

              </div>

              <div class="col-md-12">
                <div class="row button-group">
                  <div class="col-lg-2 col-md-6 align-content-lg-end">
                    <button type="button" class="btn btn-block btn-secondary" (click)="cancelar()">
                      <i class="fa fa-mail-reply"></i> Cancelar</button>
                  </div>
                  <div class="col-lg-2 col-md-6">
                    <button type="submit" [disabled]='!mascaraForm.valid' class="btn btn-block btn-success">
                      <i class="fa fa-check"></i> Gravar</button>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
</div>